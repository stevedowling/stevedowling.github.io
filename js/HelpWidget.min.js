var HelpWidget=function(){function e(){var o=this;this._lookupFilePath="https://faq.cvcheck.com/help/lookup.js",this._defaultHelpUrl="https://faq.cvcheck.com",this._helpUrlOverrideDictionary={},this._iframe=document.createElement("iframe"),this._iframe.id="HelpIframe",this._iframe.addEventListener("load",function(e){o.onIframeLoaded(e,o._closeHelpIframe)},!1),this._closeHelpIframe=document.createElement("div"),this._closeHelpIframe.id="CloseHelpIframe",this._buildCloseHelpButton(),this._closeHelpIframe.style.display="none",this._closeHelpIframe.addEventListener("click",function(){o.hideHelp()},!1),document.body.appendChild(this._closeHelpIframe),this._helpButton=document.createElement("button"),this._helpButton.id="ShowHelp",this._helpButton.innerHTML="HELP",this._helpButton.addEventListener("click",function(){o.showHelp()},!1),this._getJson(this._lookupFilePath,function(e,t){return o.onLookupFileLoaded(e,t)})}return e.prototype._buildCloseHelpButton=function(){this._closeHelpIframe.innerHTML='<svg height="100%" width="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="#676767" d="M21.7 18.2c.2.2.3.4.3.6s-.1.4-.3.6l-2.3 2.3c-.2.2-.4.3-.6.3s-.4-.1-.6-.3L11 14.5l-7.2 7.2c-.2.2-.4.3-.7.3s-.4-.1-.6-.3L.2 19.4c-.1-.1-.2-.3-.2-.5s.1-.4.3-.6L7.5 11 .3 3.8c-.2-.2-.3-.4-.3-.7 0-.2.1-.4.3-.6L2.6.2c.1-.1.3-.2.5-.2s.4.1.6.3L11 7.5 18.2.3c.2-.2.4-.3.7-.3s.4.1.6.3l2.3 2.3c.1.1.2.3.2.5s-.1.4-.3.6L14.5 11l7.2 7.2z"></path></svg>'},e.prototype.onLookupFileLoaded=function(e,t){200===e&&(this._helpUrlOverrideDictionary=t,"default"in this._helpUrlOverrideDictionary&&(this._defaultHelpUrl=this._helpUrlOverrideDictionary.default)),this.showHelpButton()},e.prototype._getJson=function(e,t){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="json",o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.onload=function(){t(o.status,o.response)},o.send()},e.prototype._getHelpUrl=function(){var e,t=this._defaultHelpUrl,o=window.location.pathname.replace(/^\/+/g,"");return o in this._helpUrlOverrideDictionary&&(t=this._helpUrlOverrideDictionary[o]),"URLSearchParams"in window&&((e=new URLSearchParams(window.location.search)).set("helpsource",o),t=t+"?"+e.toString()),t},e.prototype.onIframeLoaded=function(e,t){t.style.display="block"},e.prototype.showHelp=function(){this.hideHelpButton(),this._iframe.src=this._getHelpUrl(),document.body.appendChild(this._iframe)},e.prototype.hideHelp=function(){this._iframe.remove(),this._closeHelpIframe.style.display="none",this.showHelpButton()},e.prototype.showHelpButton=function(){document.body.appendChild(this._helpButton)},e.prototype.hideHelpButton=function(){this._helpButton.remove()},e}();document.addEventListener("DOMContentLoaded",function(){new HelpWidget});